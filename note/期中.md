# VPC
# 建立VPC
```sh
到VPC頁面
VPC
Your vpc
Create VPC
VPC only
Name tag : examvpc
IPV4 CIDR : 192.168.0.0/16
NO IPV6 CIDR block
Create VPC
```
# 建立Subnet
```sh
Subnets
Create subnet
選擇VPC ID(剛剛創建的VPC名稱)
Subnet name : examvpc-public / examvpc-public2
Availability Zone : 1a /1c
IPV4 CIDR : 192.168.0.0/24
Add new subnet(再創建一個私網)
Subnet name : examvpc-private
選擇區域(1b)
IPV4 CIDR : 192.168.1.0/24
Create Subnet
```
# 設置Public ip
```sh
VPC
Subnets
examvpc-public / examvpc-public2打勾
Edit subnet setting
勾選 Enable auto-assign public IPv4 address
Save
Auto-assign public IPv4 address應顯示YES
```
# 創建IGW
```sh
Internet gateways
Create internet gateway
Name tag : examvpc-igw
Create internet gateways
Attach to a VPC
選擇examvpc
Attach internet gateway
```
# Security Group

# 讓DB伺服器連接外網
> 創建NATgw
```sh
 到VPC上
 NAT gateways
 Create NAT gateway
 Name : natgw-examvpc
 Subnet選擇examvpc-public
 Connectivity type選擇Public
 Elastic IPallocation ID 直接按旁邊的Allocate Elastic IP
 Create NAT gateway
 創建完成
```
 > 創建內定路由表
 ```sh
 Route tables 
 Create route tables 
 取名rt-examvpc-private 
 VPC選擇 : examvpc 
 Create route tables 
 選擇rt-examvpc-private
 Edit routes 
 Add route
 Target選擇NAT gateway
 選擇剛才創建的natgw-examvpc 
 Save changes
 創建完成
```
 > 套用路由表

```sh
 Route tables
 勾選rt-examvpc-private 
 Subnet associations 
 Edit subnet associations 
 打勾examvpc-private 
 Save associations
 回到DB虛擬機上
 ping 8.8.8.8
成功連接外網
```
# 在Private建立資料庫


# 在Public產生網頁伺服器



# 負載均衡器



