# 第六周
# Auto scaling Group(ASG)
* 自動擴張縮小雲端機器
* 客戶數量多時，有水平(horizontal)及垂直(vertical)兩種策略
  * 垂直策略:把本身機器效能往上提，只有一台伺服器。
  * 水平策略:從原本的一台伺服器，擴張成更多。

# Elastic load balance(ELB)
* 負載均衡器

# 實驗一 當有機器壞掉時，會自動生成新機器
```sh
選擇EC2
Auto scaling group
Cteate Auto scaling group
Name : asg-testvpc
Create a launch template
```
```sh
Launch template name:template-asg-testvpc
Quick Start : Amazon Linux
Instance type : t2.micro
Key pair : testkey
Create security group
Security group name :sg_asg_testvpc_http
Description : sg_asg_testvpc_http 
VPC : testvpc
Add security group rule
Type : HTTP
Source type : Anywhere
Advanced details
```
```sh
User Data:
#!/bin/bash
yum update -y
yum install -y httpd.x86_64
systemctl start httpd.service
systemctl enable httpd.service
echo “Hello World from $(hostname -f)” > /var/www/html/index.html
Create launch template
```
```sh
回到Create Auto Scaling group頁面
Launch template
重新整理
選擇template-asg-testvpc
Next
```
```sh
Network
VPC: 選擇testvpc
```
