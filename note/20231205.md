# 第十二周
# AWS CLI
* 安裝 AWS CLI
* 先安裝好ptyhon才能安裝AWS CLI
安裝教學:https://docs.aws.amazon.com/zh_tw/cli/latest/userguide/getting-started-install.html
* 完成圖
<img src="../pic/1205.png">

* 使用金鑰登陸
> 更改tom權限
```sh
到IAM頁面
User
進入tom
Permissions policies 
刪除現有權限
Add permissions
選擇Attach policies directly
勾選AdministratorAccess
Next
Add permissions
```
> 生成金鑰
```sh
Access key 1
Create access key
選擇Command Line Interface (CLI)
勾選I understand the above recommendation and want to proceed to create an access key.
Next
Create access key
記住生成的金鑰，到cmd裡輸入
aws configure
貼上Access key ID 、 Secret Access key
Default refion name : us-east-1
Default output format:直接按Enter
aws s3 ls
成功登錄
```
<img src="../pic/1205-1.png">

> Cli使用教學

使用教學:https://blog.gtwang.org/linux/linux-aws-command-upload-download-s3-file-tutorial-examples/#google_vignette

> 建立Bucket
```sh
aws s3 mb s3://test-lily
```
> 查看Bucket
```sh
aws s3 ls
```
> 複製檔案並上傳
```sh
aws s3 cp hi.txt s3://test-lily
```
> 上傳目錄
```
建立目錄及檔案
mkdir testdir
cd testdir
touch {a..d}.txt
cd ..
上傳目錄
aws s3 cp  testdir s3://test-lily --recursive
```
> 查看檔案
```sh
aws s3 ls s3://test-lily
```
> 從雲端下載檔案
```sh
aws s3 cp s3://test-lily/a.txt .
```
> 刪除Bucket
```sh
aws s3 rm s3://test-lily --recursive
aws s3 rb s3://test-lily
```
<img src="../pic/1205-2.png">

# 
> 建立一個txt檔，輸入以下內容，然後儲存成py

```sh
import boto3

s3 = boto3.resource("s3")

# 获得所有的 bucket, boto 会自动处理 API 的翻页等信息。
for bucket in s3.buckets.all():
    print(bucket.name)
```

