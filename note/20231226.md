# 第十五周
# 讀取資料庫的資料
> 新增role權限
```sh
進入Identity and Access Management (IAM)頁面
Roles
點擊上禮拜創建的LambdaRole
Permissions policies
Add permissions
Attach policy
新增AWSLambdaSQSQueueExecutionRole與AWSLambdaVPCAccessExecutionRole權限
```
> 建立Lambda函式
```sh
Python 3.12
進入AWS Lambda頁面
Functions
Create function
選擇Author from scratch
Function name : Lambda_getItems
Runtime選擇Python 3.12
Execution role選擇Use an existing role
選擇LambdaRole
Create function
```
> 貼上程式碼
```sh
點入Lambda_getItems
貼上程式碼

import json
import boto3

client = boto3.client('dynamodb')

def lambda_handler(event, context):
  data = client.get_item(
    TableName='addrbook',
    Key={
        'name': {
          'S': 'tom'
        }
    }
  )
  print(data['Item'])
  response = {
      'statusCode': 200,
      'body': json.dumps(data['Item']),
      'headers': {
        'Content-Type': 'application/json',
        'Access-Control-Allow-Origin': '*'
      },
  }
  return response

Deploy
Test
即可看到Tom的資料
```
<img src="../pic/1226.png">
